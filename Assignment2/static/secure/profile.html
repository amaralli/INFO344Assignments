<!DOCTYPE html>
<html lang="eng">
<head>
	<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta charset="UTF-8">
    
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.0-rc.1/angular.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.11.1/moment.min.js"></script>
    <script src="profile.js"></script>

    <title>Profile</title>
</head>
<body class="container" ng-app="users" ng-controller="UserController">
	<header class="page-header">
		<h1>This is you, {{displayName}}!</h1>
	</header>

	<h3>Not impressed? Check out your profile. You can even edit your stuff!</h3>
	<button class="btn btn-primary" ng-click="profile()" ng-hide="showProf">View profile information</button>	

	<div ng-show="showProf">
		<h2>Your life. Right here.</h2>
		<img src="{{gravatarUrl}}?d=wavatar">
		<h3>EMAIL: {{email}}</h3>
		<h3>USERNAME: {{displayName}}</h3>

		<h4>Do you want to change your display name?</h4>
		<form ng-submit="submit2()">
			<div class="form-group">
			  	<label for="displayNameChange">Choose display name</label>
			  	<input class="form-control" id="displayNameChange" placeholder="New display name" name="displayName" ng-model="changeDisplayName" required>
			</div>
			<input class="btn btn-primary" type="submit">
		</form>

		<div ng-show="showPass">
			<h4>Do you want to change your password?</h4>
			<form ng-submit="submit3()">
				<div class="form-group">
					<label for="currPass">Current Password</label>
					<input class="form-control" id="currPass" placeholder="Current password" name="curPass" ng-model="curPass" required>
				</div>
  				<div class="alert alert-danger" role="alert" ng-show="incorrectPass">
  					<span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
 			 		<span class="sr-only">Error:</span>
  					Password is incorrect!
				</div>
				<div class="form-group">
					<label for="newPass">New Password</label>
					<input type="password" class="form-control" id="password" placeholder="New password" name="newPassword" ng-model="newPassword" required>
				</div>
				<div class="form-group">
					<label for="confirmNewPass">Confirm New Password</label>
					<input type="password" class="form-control" id="password" placeholder="Confirm new password" name="password" ng-model="confirmNewPassword" required>
				</div>
				<div class="alert alert-danger" role="alert" ng-show="confirmPass">
  					<span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
 			 		<span class="sr-only">Error:</span>
  					Passwords need to match!
				</div>
			  	<input class="btn btn-primary" type="submit">
			</form>
		</div>
		<h3>Done checking yourself out?</h3>
		<button class="btn btn-primary" ng-click="hideProfile()">Hide profile information</button>
	</div>

	<h4>Done?</h4>
	<a href="/signout" class="btn btn-danger">Sign out!</button>



</body>
</html>